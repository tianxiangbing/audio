"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var _createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();!function(t,i){"function"==typeof define&&define.amd?define(["$"],i):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=i():t.Audio=i(window.Zepto||window.jQuery||$)}(window,function(t){t.fn.Audio=function(n){var e=[];return t(this).each(function(){var o=new i,a=t.extend({target:t(this)},n);o.init(a),e.push(o)}),e};var i=function(){function i(){_classCallCheck(this,i)}return _createClass(i,[{key:"contructor",value:function(){}},{key:"init",value:function(i){var n=Math.random().toString().replace(".","");this.id="audio_"+n,this.settings={},this.controller=null;var e=this;this.settings=t.extend(this.settings,i),this.audio=t(this.settings.target).get(0),this.createDom(),this.settings.target.on("canplay",function(){e.duration=e.audio.duration,e.durationContent.html(Math.floor(e.duration)+"s")}),this.bindEvent()}},{key:"createDom",value:function(){var i='<div id="'+this.id+'" class="ui-audio"><i></i></div>';this.settings.target.hide().after(i),this.controller=t("#"+this.id),this.durationContent=t('<div class="ui-duration"></div>'),this.controller.append(this.durationContent)}},{key:"bindEvent",value:function(){var i=this,n=this;this.controller.on("click",function(){n.play()}),t(this.audio).on("ended",function(){return n.stop()}),t(this.audio).on("timeupdate",function(){return i.settings.updateCallback&&i.settings.updateCallback.call(i,i.audio,i.audio.duration,i.durationContent)})}},{key:"play",value:function(){this.audio.paused?(this.audio.play(),this.controller.addClass("play")):(this.audio.pause(),this.controller.removeClass("play")),this.settings.playCallback&&this.settings.playCallback.call(this,this.audio,this.audio.paused,this.durationContent)}},{key:"stop",value:function(){this.controller.removeClass("play"),this.settings.stopCallback&&this.settings.stopCallback.call(this,this.audio,this.audio.paused,this.durationContent)}}]),i}();return i});